# -------------------------
# Server
# -------------------------
NODE_ENV=development
HOST=127.0.0.1
PORT=3200

# Public URLs (used in redirects, CORS hints, etc.)
PUBLIC_URL=https://mux.example.com
APP_ORIGIN=https://mux.example.com

# Comma-separated list of allowed browser origins for CORS
# Include your prod domain(s) and local dev ports
CORS_ORIGINS=https://mux.example.com,http://localhost:5173

# -------------------------
# Persistence
# -------------------------
# Switch later when MySQL repos are wired: memory | mysql
PERSISTENCE=memory

# MySQL (only used when PERSISTENCE=mysql)
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=app_user
DB_PASSWORD=change_me
DB_NAME=mux

# -------------------------
# Auth (if/when you add user auth)
# -------------------------
JWT_SECRET=replace_with_long_random_string

# -------------------------
# Mux API (Server Access Token)
# Create in Mux Dashboard → Settings → API Access Tokens
# -------------------------
MUX_TOKEN_ID=xxxx-xxxx-xxxx-xxxx
MUX_TOKEN_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# -------------------------
# Playback Signing (one of these is required)
# Create a "Playback Signing Key" in Mux → copy KID and private key
# -------------------------
# The key ID (KID) for your playback signing key
MUX_SIGNING_KEY_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Option A: Provide the PEM directly (escape newlines as \n)
# MUX_SIGNING_KEY_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----

# Option B: Provide a file path to the PEM (absolute path recommended)
# Example: /home/ubuntu/mux/api/keys/mux-signing-key.pem
MUX_SIGNING_KEY_FILE=/absolute/path/to/mux-signing-key.pem

# -------------------------
# Webhook verification
# Create a "Webhook Secret" in Mux → use it to validate Mux-Signature
# -------------------------
MUX_WEBHOOK_SECRET=replace_with_webhook_secret

# -------------------------
# Logging (optional)
# -------------------------
LOG_LEVEL=info

# -------------------------
# Thumbnail / Poster defaults (optional)
# These control the defaults used when signing Mux Image URLs (aud "t").
# Clients can always override per-request via query params.
# -------------------------
# Time offset in seconds for the poster frame (e.g., 0.1 = 100ms in)
# MUX_POSTER_TIME_SECONDS=0.1
# Default poster height (omit to let client/transform choose dynamically)
# MUX_POSTER_HEIGHT=900
# Default poster width (usually omit; Mux derives from aspect if unset)
# MUX_POSTER_WIDTH=540
# Fit mode: smartcrop | pad | crop
# MUX_POSTER_FIT_MODE=smartcrop
# Output format: jpg | png
# MUX_POSTER_FORMAT=png
# Token TTL for signed thumbnails (seconds)
# MUX_POSTER_TTL_SECONDS=600
